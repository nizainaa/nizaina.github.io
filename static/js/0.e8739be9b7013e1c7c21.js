webpackJsonp([0],{521:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(525),o=s(530);var r=function(e){s(528),s(529)},a=s(522)(n.a,o.a,!1,r,"data-v-d99c13e0",null);t.default=a.exports},522:function(e,t){e.exports=function(e,t,s,n,o,r){var a,i=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(a=e,i=e.default);var l,u="function"==typeof i?i.options:i;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),s&&(u.functional=!0),o&&(u._scopeId=o),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=l):n&&(l=n),l){var d=u.functional,f=d?u.render:u.beforeCreate;d?(u._injectStyles=l,u.render=function(e,t){return l.call(t),f(e,t)}):u.beforeCreate=f?[].concat(f,l):[l]}return{esModule:a,exports:i,options:u}}},523:function(e,t,s){"use strict";var n=s(284),o=s.n(n),r=s(285),a=s.n(r),i=s(286),c=function(){function e(){o()(this,e)}return a()(e,null,[{key:"add",value:function(e,t){i.a.pay({func:"addUserInfo",value:.01,args:[e]},t)}},{key:"search",value:function(e,t){i.a.get({func:"searchUsers",args:[e]},function(e){t(e.result?JSON.parse(e.result):null)})}},{key:"getSecretInfo",value:function(e,t){i.a.pay({func:"getSecretInfo",value:.01,args:[e]},t)}}]),e}();t.a=c},525:function(e,t,s){"use strict";var n=s(523);t.a={data:function(){return{first:1,name:null,showTip:!0,users:null,loadingUser:!1,genderTxt:{M:"男",F:"女"},showSecretInfo:!1,curSecretInfo:{},secretCost:.01,loadingModal:null}},methods:{toAddUser:function(){this.$router.push({name:"add"})},keyupName:function(e){"Enter"==e.key&&this.searchUser()},searchUser:function(){var e=this;this.name?(this.showTip=!1,this.loadingUser=!0,n.a.search(this.name,function(t){e.loadingUser=!1,0==t.code?e.setUsers(t.data):e.$Message.error(t.msg||"查询失败")})):this.$Message.warning("请输入搜索姓名")},setUsers:function(e){var t=[];e&&e.forEach(function(e){e.nasAddress&&e.name&&t.push(e)}),this.users=t},seeSecretInfo:function(e){this.loadSecretInfo(e)},loadSecretInfo:function(e){var t=this,s=this.secertInfo[e];s?this.openSecretInfo(s):(this.$Message.info("需支付"+this.secretCost+"nas"),n.a.getSecretInfo(e,function(s){console.log(s),void 0!=s.loading?t.loading(s.loading,s.msg):(t.loading(!1),-2==s.code?t.$Modal.error({title:"结果",content:"您支付的nas费用低于"+t.secretCost+"，无法查看！",okText:"知道了"}):0==s.code?(t.$Message.success("交易成功！"),t.$store.state.secertInfo[e]=s.data,t.openSecretInfo(s.data)):t.$Message.error(s.msg||"交易失败"))}))},openSecretInfo:function(e){this.showSecretInfo=!0,this.curSecretInfo=e},loading:function(e,t){this.loadingModal&&this.loadingModal(),e?this.loadingModal=this.$Message.loading({content:t,duration:0}):t&&this.$Message.info(t)}},computed:{secertInfo:function(){return this.$store.state.secertInfo}}}},528:function(e,t){},529:function(e,t){},530:function(e,t,s){"use strict";var n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"listPage"},[s("div",{staticClass:"hd-top"},[e._v("\n    where are you?\n  ")]),e._v(" "),s("div",{staticClass:"body"},[s("div",{staticClass:"hd-list"},[s("Input",{staticStyle:{width:"78%"},attrs:{placeholder:"请输入完整姓名"},nativeOn:{keyup:function(t){e.keyupName(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("Button",{staticStyle:{width:"20%","margin-left":"1%"},attrs:{type:"primary"},on:{click:e.searchUser}},[e._v("你在哪")]),e._v(" "),e.showTip?s("div",{staticClass:"tip"},[e._v("此DAPP基于星云链，查看用户隐私信息或登记信息需使用："),s("a",{attrs:{href:"https://nebulas.io/cn/resources.html",target:"_blank"}},[e._v("星云链钱包")])]):e._e()],1),e._v(" "),e.loadingUser||e.users?s("div",{staticClass:"bd-list"},[e._l(e.users,function(t){return s("div",{staticClass:"list"},[s("div",{staticClass:"user"},[s("span",[e._v(e._s(t.name))]),e._v(" "),s("span",[e._v(e._s(t.gender?e.genderTxt[t.gender]:"未知"))]),e._v(" "),s("span",[e._v(e._s(null!=t.age?t.age+"岁":null))]),e._v(" "),s("p",[e._v("\n            "+e._s(t.descr))])]),e._v(" "),e.secertInfo[t.nasAddress]?s("Button",{staticClass:"btn-secret",attrs:{type:"ghost"},on:{click:function(s){e.seeSecretInfo(t.nasAddress)}}},[e._v("隐私地址\n          "),s("Icon",{attrs:{type:"help"}})],1):s("Tooltip",{attrs:{content:"查看需支付"+e.secretCost+"nas",placement:"right"}},[s("Button",{staticClass:"btn-secret",attrs:{type:"ghost"},on:{click:function(s){e.seeSecretInfo(t.nasAddress)}}},[e._v("隐私地址\n            "),s("Icon",{attrs:{type:"help"}})],1)],1)],1)}),e._v(" "),e.loadingUser?s("Spin",{attrs:{size:"large",fix:""}}):e.users&&0==e.users.length?s("div",{staticClass:"no-result"},[e._v("找不到此人....")]):e._e()],2):e._e(),e._v(" "),s("div",{staticClass:"btn-add-user"},[s("Button",{attrs:{type:"success",size:"small"},on:{click:e.toAddUser}},[e._v("去登记 "),s("Icon",{attrs:{type:"arrow-right-c"}})],1)],1)]),e._v(" "),s("Modal",{attrs:{title:"TA的隐私信息"},on:{"on-ok":function(t){e.showSecretInfo=!1}},model:{value:e.showSecretInfo,callback:function(t){e.showSecretInfo=t},expression:"showSecretInfo"}},[s("div",{staticClass:"secret-info"},[s("div",[e._v("地址："+e._s(e.curSecretInfo._address))]),e._v(" "),s("div",[e._v("电话："+e._s(e.curSecretInfo._phone))]),e._v(" "),s("div",[e._v("备注："+e._s(e.curSecretInfo._memo))])]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.showSecretInfo=!1}}},[e._v("关闭")])],1)])],1)},staticRenderFns:[]};t.a=n}});
//# sourceMappingURL=0.e8739be9b7013e1c7c21.js.map